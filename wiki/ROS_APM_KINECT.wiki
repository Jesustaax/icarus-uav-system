#summary ROS, APM and Kinect

= Introduction =

The objective of this project is to implement a system that has a computer running ROS with a Kinect doing target tracking, and outputting commands via MAVLink to an APM Board.

This project is for the UIC ECE 452 Course: Robotics.  This is an ongoing project for the Spring 2013 Semester and as such is still a work in progress.  All code/information/documentation will be made available upon completion.

Complete setup instructions and source code can be found here: TBA

= Videos =
  

= Details =

== System Overview ==
  * [http://dgitz.ipower.com/ICARUSRepo/Media/Flyer/Design/LogicalDesign/SystemDiagram.png System Diagram]
  * Work Not Completed
    * Auto-start Script
    * Clean up Code
    * Finish mounting hardware/cables
    * Input HSV Values for Color Tracking
    * Wiki Documentation
    * Upload to CVRL Github   
  * Work Completed
    * All Electronics Assembled
    * ROS Installation/Configuration
    * ROS To/From APM Communication
    * ROS Set RC Channels Directly (Optional)
    * ROS Set Pitch/Roll Setpoints
    * Kinect Color blob tracking
    * Code Integration:  Kinect and APM_ROS Code in same project.
    * Target Pitch Setpoints
    * Target Yaw Setpoints
  * Future Work
    * Image Tracking adjusts Roll Angle
    * Integrate ROS w/ GCS System
    * Track other kinds of Targets (geometry, etc)

== Components ==
  * Laptop
[http://www.ubuntu.com/download/desktop https://wiki.ubuntu.com/IconsPage?action=AttachFile&do=get&target=iconCircle48.png] 
[http://www.warp1337.com/sites/www.warp1337.com/files/fuerte-320w.jpg]
  A laptop running Ubuntu 12.04 was installed with the Robot Operating System (ROS)-Fuerte.  A laptop was used as it would simplify development, and the usage of ROS implies that it is somewhat device independent.   Here's a list of dependent packages:
    * [https://github.com/mavlink/mavlink MAVLink]
    * [http://www.ros.org/wiki/openni_kinect Openni Kinect Driver]
    * Others

  Build ICARUSQTW ROS Package:
{{{
rosmake icarusqtw
}}}
  Start icarusqtw node:
{{{
roscd icarusqtw
sudo chmod 0777 /dev/ttyACM0
nodes/icarusqtw.py --device=/dev/ttyACM0 --rate=115200
}}}
  * DIYDrones APM

[http://store.diydrones.com/v/vspfiles/photos/BR-ArduPilotMega-03-2T.jpg]
  The [http://store.diydrones.com/APM_2_0_Kit_p/br-ardupilotmega-03.htm DIYDrones APM] is already used as a Flight Controller in the ICARUS QTW Flyer.  While it has many functions, including an AHRS System, it lacks the ability to connect to more advanced sensors (such as the Kinect) and the programming space left (after using the Arduplane/Arducopter code) is quite small.  This project slightly modified the ArduPlane 2.68 Default Code.  Here are the required modifications: TBA   

  * Kinect Sensor
[http://img.gawkerassets.com/img/17nnc7oa1rdrijpg/xlarge.jpg]

  This [http://www.amazon.com/Kinect-Sensor-Adventures-Xbox-360/dp/B002BSA298/ref=sr_1_1?ie=UTF8&qid=1360093357&sr=8-1&keywords=kinect+xbox Kinect Sensor] was purchased through UIC to be used on this project. 
In Terminal 1:
{{{
roscore
}}}
In Terminal 2:
{{{
roslaunch openni_launch openni.launch
}}}
In Terminal 3:
{{{
rosrun image_view image_view image:=/camera/rgb/image_color
}}}
== References ==